# LLM-A AUTO-SCAN - SIMPLE VERSION
**Date**: November 30, 2025  
**Purpose**: One-click card generation from Brain 2 scenarios

---

## ğŸ¯ THE IDEA (SUPER SIMPLE)

**Problem**: Manually creating triage cards is slow and error-prone.

**Solution**: LLM-A reads your Brain 2 scenarios and auto-generates matching cards.

---

## ğŸ–¼ï¸ THE UI (2 BUTTONS, THAT'S IT)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âœ¨ AI Triage Builder                                V23 AUTO-SCAN       â”‚
â”‚ Automatically generate triage cards from your Brain 2 scenarios         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚ ğŸ§  SMART CARD GENERATION                                                â”‚
â”‚                                                                         â”‚
â”‚ LLM-A will scan your active scenarios and automatically create         â”‚
â”‚ triage cards with keywords, negative keywords, and synonyms.           â”‚
â”‚                                                                         â”‚
â”‚ â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” â”‚
â”‚                                                                         â”‚
â”‚ ğŸ“Š Current Status:                                                      â”‚
â”‚                                                                         â”‚
â”‚ â€¢ Brain 2 (Scenarios):  47 active scenarios                            â”‚
â”‚ â€¢ Brain 1 (Triage):     12 cards created                               â”‚
â”‚ â€¢ Coverage:             35 scenarios without cards (74% gap)           â”‚
â”‚                                                                         â”‚
â”‚ â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” â”‚
â”‚                                                                         â”‚
â”‚ ğŸ”¹ FULL SCAN (First Time)                                               â”‚
â”‚                                                                         â”‚
â”‚ Scans ALL active scenarios and generates cards for each one.           â”‚
â”‚ Organizes by category automatically.                                   â”‚
â”‚                                                                         â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚                                                                 â”‚   â”‚
â”‚ â”‚         [ğŸ” Scan AiCore & Generate Cards]                       â”‚   â”‚
â”‚ â”‚                                                                 â”‚   â”‚
â”‚ â”‚         Estimated time: ~2-3 minutes for 47 scenarios          â”‚   â”‚
â”‚ â”‚                                                                 â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                         â”‚
â”‚ â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” â”‚
â”‚                                                                         â”‚
â”‚ ğŸ”¹ RESCAN (Check for New)                                               â”‚
â”‚                                                                         â”‚
â”‚ Checks for new scenarios added since last scan.                        â”‚
â”‚ Only generates cards for NEW scenarios.                                â”‚
â”‚                                                                         â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚                                                                 â”‚   â”‚
â”‚ â”‚         [ğŸ”„ Rescan for New Scenarios]                           â”‚   â”‚
â”‚ â”‚                                                                 â”‚   â”‚
â”‚ â”‚         Last scan: 3 days ago                                  â”‚   â”‚
â”‚ â”‚                                                                 â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                         â”‚
â”‚ â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” â”‚
â”‚                                                                         â”‚
â”‚ ğŸ’¡ How it works:                                                       â”‚
â”‚ 1. LLM-A reads each scenario from Brain 2                             â”‚
â”‚ 2. Generates keywords (what customers say)                            â”‚
â”‚ 3. Generates negative keywords (what to exclude)                      â”‚
â”‚ 4. Generates synonyms (variations of same intent)                     â”‚
â”‚ 5. Creates organized cards by category                                â”‚
â”‚ 6. Links each card to its scenario                                    â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ AFTER CLICKING "SCAN AICORE"

### Step 1: Scanning Progress

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ” SCANNING BRAIN 2...                                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚ Progress: 12 / 47 scenarios processed                                  â”‚
â”‚                                                                         â”‚
â”‚ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ 26%                â”‚
â”‚                                                                         â”‚
â”‚ Current:                                                                â”‚
â”‚ âœ“ AC Not Cooling Repair â†’ Card generated                               â”‚
â”‚ âœ“ Furnace No Heat â†’ Card generated                                     â”‚
â”‚ âœ“ AC Tune-Up Maintenance â†’ Card generated                              â”‚
â”‚ â³ Thermostat Replacement â†’ Generating...                              â”‚
â”‚                                                                         â”‚
â”‚ Categories found:                                                       â”‚
â”‚ â€¢ AC Repair (5 scenarios)                                              â”‚
â”‚ â€¢ Heating Repair (4 scenarios)                                         â”‚
â”‚ â€¢ Maintenance (3 scenarios)                                            â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### Step 2: Review Generated Cards

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âœ… SCAN COMPLETE - 47 CARDS GENERATED                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚ ğŸ“Š Summary:                                                             â”‚
â”‚ â€¢ Scenarios scanned: 47                                                â”‚
â”‚ â€¢ Cards generated: 47                                                  â”‚
â”‚ â€¢ Categories: 8 (organized automatically)                              â”‚
â”‚ â€¢ Average confidence: 94%                                              â”‚
â”‚                                                                         â”‚
â”‚ â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” â”‚
â”‚                                                                         â”‚
â”‚ ğŸ“ AC Repair (12 cards)                                                 â”‚
â”‚                                                                         â”‚
â”‚   ğŸ”· AC Not Cooling                                                     â”‚
â”‚   Keywords: ac, not cooling, warm air, no cold air                     â”‚
â”‚   Negative Keywords: maintenance, tune-up, checkup                     â”‚
â”‚   Synonyms: air conditioner, a/c, cooling system                       â”‚
â”‚   â†’ Linked to: ac_not_cooling_repair                                   â”‚
â”‚   [âœ“ Accept] [âœï¸ Edit] [âŒ Skip]                                        â”‚
â”‚                                                                         â”‚
â”‚   ğŸ”· AC Making Noise                                                    â”‚
â”‚   Keywords: ac, noise, rattling, grinding, loud                        â”‚
â”‚   Negative Keywords: quiet, normal, slight                             â”‚
â”‚   Synonyms: air conditioner, a/c, hvac unit                            â”‚
â”‚   â†’ Linked to: ac_noise_diagnosis                                      â”‚
â”‚   [âœ“ Accept] [âœï¸ Edit] [âŒ Skip]                                        â”‚
â”‚                                                                         â”‚
â”‚   [Show all 12 cards â†’]                                                â”‚
â”‚                                                                         â”‚
â”‚ â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” â”‚
â”‚                                                                         â”‚
â”‚ ğŸ“ Heating Repair (8 cards)                                             â”‚
â”‚   [Show cards â†’]                                                        â”‚
â”‚                                                                         â”‚
â”‚ ğŸ“ Maintenance (6 cards)                                                â”‚
â”‚   [Show cards â†’]                                                        â”‚
â”‚                                                                         â”‚
â”‚ ğŸ“ Emergency (5 cards)                                                  â”‚
â”‚   [Show cards â†’]                                                        â”‚
â”‚                                                                         â”‚
â”‚ ... [+ 4 more categories]                                              â”‚
â”‚                                                                         â”‚
â”‚ â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” â”‚
â”‚                                                                         â”‚
â”‚ [âœ“ Accept All 47] [Review Each One] [Cancel]                           â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ RESCAN (CHECKING FOR NEW SCENARIOS)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ”„ RESCAN COMPLETE                                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚ ğŸ“Š Results:                                                             â”‚
â”‚                                                                         â”‚
â”‚ â€¢ Total scenarios in Brain 2: 52 (was 47)                             â”‚
â”‚ â€¢ New scenarios found: 5                                               â”‚
â”‚ â€¢ Cards generated: 5                                                   â”‚
â”‚                                                                         â”‚
â”‚ â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” â”‚
â”‚                                                                         â”‚
â”‚ ğŸ†• NEW CARDS GENERATED:                                                 â”‚
â”‚                                                                         â”‚
â”‚ ğŸ“ AC Repair                                                            â”‚
â”‚   ğŸ”· AC Freon Recharge (NEW)                                            â”‚
â”‚   Keywords: freon, recharge, low refrigerant, r22, r410a               â”‚
â”‚   â†’ Linked to: ac_refrigerant_recharge                                 â”‚
â”‚   [âœ“ Accept] [âœï¸ Edit] [âŒ Skip]                                        â”‚
â”‚                                                                         â”‚
â”‚ ğŸ“ Smart Home                                                           â”‚
â”‚   ğŸ”· Smart Thermostat Installation (NEW)                                â”‚
â”‚   Keywords: smart thermostat, nest, ecobee, wifi thermostat            â”‚
â”‚   â†’ Linked to: smart_thermostat_install                                â”‚
â”‚   [âœ“ Accept] [âœï¸ Edit] [âŒ Skip]                                        â”‚
â”‚                                                                         â”‚
â”‚   ... [+ 3 more new cards]                                             â”‚
â”‚                                                                         â”‚
â”‚ â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” â”‚
â”‚                                                                         â”‚
â”‚ [âœ“ Accept All 5] [Review Each One] [Cancel]                            â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ’» BACKEND LOGIC (SIMPLE)

### Endpoint 1: Full Scan

```javascript
POST /api/admin/triage-builder/auto-scan/:companyId

// What it does:
1. Load all active scenarios from Brain 2 (AiCore)
2. For each scenario, call LLM-A:
   - Generate keywords (what customers say)
   - Generate negative keywords (what to exclude)
   - Generate synonyms (variations)
3. Create TriageCard for each scenario
4. Organize by category
5. Return for admin review

Response:
{
  ok: true,
  scannedScenarios: 47,
  cardsGenerated: 47,
  categories: [
    {
      name: "AC Repair",
      cards: [
        {
          displayName: "AC Not Cooling",
          keywords: ["ac", "not cooling", "warm air"],
          negativeKeywords: ["maintenance", "tune-up"],
          synonyms: ["air conditioner", "a/c"],
          linkedScenarioKey: "ac_not_cooling_repair"
        }
      ]
    }
  ]
}
```

---

### Endpoint 2: Rescan

```javascript
POST /api/admin/triage-builder/rescan/:companyId

// What it does:
1. Load all active scenarios from Brain 2
2. Check which scenarios already have cards
3. Find NEW scenarios (no card exists)
4. Generate cards ONLY for new scenarios
5. Return for admin review

Response:
{
  ok: true,
  totalScenarios: 52,
  existingCards: 47,
  newScenariosFound: 5,
  cardsGenerated: 5,
  newCards: [...]
}
```

---

## ğŸ§  LLM-A PROMPT (FOR EACH SCENARIO)

```javascript
const AUTO_SCAN_PROMPT = `
You are generating a triage card for routing callers to a scenario.

Scenario:
- Key: ${scenarioKey}
- Name: ${scenarioName}
- Description: ${scenarioDescription}
- Category: ${categoryName}
- Service Type: ${serviceType}

Generate:
1. Keywords (3-6 words/phrases customers might say)
   - Must be SHORT tokens (1-3 words max)
   - Focus on what callers naturally say
   - Examples: "ac not cooling", "warm air", "no cold"

2. Negative Keywords (2-4 words/phrases that disqualify)
   - Words that mean this is NOT the right card
   - Examples: "maintenance", "tune-up", "schedule"

3. Synonyms (2-5 variations of same intent)
   - Different ways to say the same thing
   - Examples: "air conditioner", "a/c", "cooling system"

Output JSON:
{
  keywords: ["ac", "not cooling", "warm air"],
  negativeKeywords: ["maintenance", "tune-up"],
  synonyms: ["air conditioner", "a/c", "cooling system"]
}
`;
```

---

## ğŸ“‹ EXAMPLE OUTPUT (WHAT GETS CREATED)

### Scenario from Brain 2:
```javascript
{
  scenarioKey: "ac_not_cooling_repair",
  name: "AC Not Cooling - Emergency Repair",
  description: "Customer reports air conditioner running but not cooling. Requires emergency repair dispatch.",
  category: "AC Repair",
  serviceType: "REPAIR"
}
```

### Auto-Generated Triage Card:
```javascript
{
  displayName: "AC Not Cooling",
  triageLabel: "AC_NOT_COOLING",
  
  quickRuleConfig: {
    keywordsMustHave: ["ac", "not cooling", "warm air", "no cold air"],
    keywordsExclude: ["maintenance", "tune-up", "checkup", "schedule"],
    action: "DIRECT_TO_3TIER",
    intent: "AC_REPAIR",
    serviceType: "REPAIR"
  },
  
  linkedScenario: {
    scenarioKey: "ac_not_cooling_repair",
    scenarioName: "AC Not Cooling - Emergency Repair"
  },
  
  // Generated by LLM-A
  synonyms: ["air conditioner", "a/c", "ac unit", "cooling system"],
  
  isActive: false, // Admin must activate
  priority: 100,
  
  // Auto-organized
  category: "AC Repair"
}
```

---

## ğŸ¯ ORGANIZATION (AUTO-CATEGORIZED)

**LLM-A automatically organizes cards by category:**

```
Triage Cards (47 total)

ğŸ“ AC Repair (12 cards)
   ğŸ”· AC Not Cooling
   ğŸ”· AC Making Noise
   ğŸ”· AC Leaking Water
   ğŸ”· AC Won't Turn On
   ... [+ 8 more]

ğŸ“ Heating Repair (8 cards)
   ğŸ”· Furnace Not Heating
   ğŸ”· Pilot Light Out
   ğŸ”· Heater Making Noise
   ... [+ 5 more]

ğŸ“ Maintenance (6 cards)
   ğŸ”· AC Tune-Up
   ğŸ”· Furnace Tune-Up
   ğŸ”· Filter Change
   ... [+ 3 more]

ğŸ“ Emergency (5 cards)
   ğŸ”· No AC in Heatwave
   ğŸ”· Gas Smell
   ğŸ”· Carbon Monoxide
   ... [+ 2 more]

... [+ 4 more categories]
```

---

## ğŸš€ IMPLEMENTATION PLAN

### Phase 1: Full Scan (4 hours)

**Backend:**
```javascript
// services/AutoScanService.js

class AutoScanService {
  async scanAndGenerateCards(companyId) {
    // 1. Load scenarios from Brain 2
    const scenarios = await getActiveScenariosForCompany(companyId);
    
    // 2. For each scenario, generate card
    const cards = [];
    for (const scenario of scenarios) {
      const card = await this.generateCardForScenario(scenario);
      cards.push(card);
    }
    
    // 3. Organize by category
    const organized = this.organizeByCategory(cards);
    
    return organized;
  }
  
  async generateCardForScenario(scenario) {
    // Call LLM-A with scenario details
    const prompt = buildAutoScanPrompt(scenario);
    const result = await openai.chat.completions.create({
      model: 'gpt-4o-mini', // Fast and cheap
      messages: [
        { role: 'system', content: AUTO_SCAN_PROMPT },
        { role: 'user', content: prompt }
      ],
      response_format: { type: 'json_object' }
    });
    
    const generated = JSON.parse(result.choices[0].message.content);
    
    return {
      displayName: scenario.name,
      triageLabel: toSnakeCase(scenario.name),
      quickRuleConfig: {
        keywordsMustHave: generated.keywords,
        keywordsExclude: generated.negativeKeywords,
        action: 'DIRECT_TO_3TIER',
        intent: scenario.intent,
        serviceType: scenario.serviceType
      },
      linkedScenario: {
        scenarioKey: scenario.scenarioKey,
        scenarioName: scenario.name
      },
      synonyms: generated.synonyms,
      category: scenario.category,
      isActive: false,
      priority: 100
    };
  }
}
```

**API Route:**
```javascript
// routes/admin/triageBuilder.js

router.post('/auto-scan/:companyId', async (req, res) => {
  const { companyId } = req.params;
  
  logger.info('[AUTO-SCAN] Starting full scan', { companyId });
  
  const result = await AutoScanService.scanAndGenerateCards(companyId);
  
  res.json({
    ok: true,
    scannedScenarios: result.totalScenarios,
    cardsGenerated: result.cards.length,
    categories: result.categories
  });
});
```

---

### Phase 2: Rescan (2 hours)

**Backend:**
```javascript
async rescan(companyId) {
  // 1. Load all scenarios
  const scenarios = await getActiveScenariosForCompany(companyId);
  
  // 2. Load existing cards
  const existingCards = await TriageCard.find({ companyId });
  const existingScenarioKeys = existingCards.map(c => c.linkedScenario.scenarioKey);
  
  // 3. Find NEW scenarios (not in existing cards)
  const newScenarios = scenarios.filter(s => 
    !existingScenarioKeys.includes(s.scenarioKey)
  );
  
  // 4. Generate cards only for new scenarios
  const newCards = [];
  for (const scenario of newScenarios) {
    const card = await this.generateCardForScenario(scenario);
    newCards.push(card);
  }
  
  return {
    totalScenarios: scenarios.length,
    existingCards: existingCards.length,
    newScenariosFound: newScenarios.length,
    newCards
  };
}
```

---

## âœ… FINAL SIMPLE UI (2 BUTTONS)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âœ¨ AI Triage Builder                              â”‚
â”‚                                                   â”‚
â”‚ Current Status:                                   â”‚
â”‚ â€¢ Brain 2: 47 scenarios                          â”‚
â”‚ â€¢ Brain 1: 12 cards                              â”‚
â”‚ â€¢ Gap: 35 scenarios without cards                â”‚
â”‚                                                   â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚  [ğŸ” Scan AiCore & Generate Cards]        â”‚   â”‚
â”‚ â”‚  Generate cards for ALL scenarios          â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                   â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚  [ğŸ”„ Rescan for New Scenarios]            â”‚   â”‚
â”‚ â”‚  Check for new scenarios since last scan   â”‚   â”‚
â”‚ â”‚  Last scan: 3 days ago                     â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

**Marc, THIS is what you want, right?**
- âœ… One button: Scan AiCore â†’ Generate ALL cards
- âœ… One button: Rescan â†’ Find NEW scenarios only
- âœ… Auto-generates keywords, negative keywords, synonyms
- âœ… Auto-organizes by category
- âœ… Links to Brain 2 scenarios

**Simple, clean, no bloat. Should I build this?** ğŸš€

